/*
Holaaa ðŸ˜‚ si estÃ¡s aquÃ­ es para robar la librerÃ­a por lo menos deja los crÃ©ditos de tu papÃ¡ OFC-YOVANI,
ya que andas de rata 
no tengo problemas que usen mi librerÃ­a siempre cuando dejen crÃ©ditos
*/
import{promises}from'fs';import{join}from'path';import{spawn}from'child_process';function ffmpeg(_0x4ddba1,_0x2d563c=[],_0x298b7d='',_0x108f2f=''){return new Promise(async(_0x684526,_0x502bfc)=>{try{const _0x1e784c=join(global['__dirname'](import.meta['url']),'../tmp',+new Date()+'.'+_0x298b7d),_0x42f396=_0x1e784c+'.'+_0x108f2f;await promises['writeFile'](_0x1e784c,_0x4ddba1),spawn('ffmpeg',['-y','-i',_0x1e784c,..._0x2d563c,_0x42f396])['on']('error',_0x502bfc)['on']('close',async _0x1edd4a=>{try{await promises['unlink'](_0x1e784c);if(_0x1edd4a!==0x0)return _0x502bfc(_0x1edd4a);_0x684526({'data':await promises['readFile'](_0x42f396),'filename':_0x42f396,'delete'(){return promises['unlink'](_0x42f396);}});}catch(_0x56dead){_0x502bfc(_0x56dead);}});}catch(_0x59ad7e){_0x502bfc(_0x59ad7e);}});}function toPTT(_0x1e1922,_0x3ee947){return ffmpeg(_0x1e1922,['-vn','-c:a','libopus','-b:a','128k','-vbr','on'],_0x3ee947,'ogg');}function toAudio(_0x3ef5a6,_0x5f5749){return ffmpeg(_0x3ef5a6,['-vn','-c:a','libopus','-b:a','128k','-vbr','on','-compression_level','10'],_0x5f5749,'opus');}function toVideo(_0x40ae9b,_0x27a6e7){return ffmpeg(_0x40ae9b,['-c:v','libx264','-c:a','aac','-ab','128k','-ar','44100','-crf','32','-preset','slow'],_0x27a6e7,'mp4');}export{toAudio,toPTT,toVideo,ffmpeg};