/*
Holaaa ðŸ˜‚ si estÃ¡s aquÃ­ es para robar la librerÃ­a por lo menos deja los crÃ©ditos de tu papÃ¡ OFC-YOVANI,
ya que andas de rata 
no tengo problemas que usen mi librerÃ­a siempre cuando dejen crÃ©ditos
*/
import{resolve,dirname as _0x53af0b}from'path';import _0x4dfbfc,{existsSync,readFileSync}from'fs';const {promises:fs}=_0x4dfbfc;class Database{constructor(_0x460e28,..._0x2993b7){this['file']=resolve(_0x460e28),this['logger']=console,this['_load'](),this['_jsonargs']=_0x2993b7,this['_state']=![],this['_queue']=[],this['_interval']=setInterval(async()=>{!this['_state']&&this['_queue']&&this['_queue'][0x0]&&(this['_state']=!![],await this[this['_queue']['shift']()]()['catch'](this['logger']['error']),this['_state']=![]);},0x3e8);}get['data'](){return this['_data'];}set['data'](_0x103ff9){this['_data']=_0x103ff9,this['save']();}['load'](){this['_queue']['push']('_load');}['save'](){this['_queue']['push']('_save');}['_load'](){try{return this['_data']=existsSync(this['file'])?JSON['parse'](readFileSync(this['file'])):{};}catch(_0x50151f){return this['logger']['error'](_0x50151f),this['_data']={};}}async['_save'](){const _0x8487ab=_0x53af0b(this['file']);if(!existsSync(_0x8487ab))await fs['mkdir'](_0x8487ab,{'recursive':!![]});return await fs['writeFile'](this['file'],JSON['stringify'](this['_data'],...this['_jsonargs'])),this['file'];}}export default Database;