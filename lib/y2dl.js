/*
Holaaa ðŸ˜‚ si estÃ¡s aquÃ­ es para robar la librerÃ­a por lo menos deja los crÃ©ditos de tu papÃ¡ OFC-YOVANI,
ya que andas de rata 
no tengo problemas que usen mi librerÃ­a siempre cuando dejen crÃ©ditos
*/
import{stat}from'fs';import _0x25bc89 from'node-fetch';const sleep=async _0x24f7ad=>new Promise(_0x1106be=>setTimeout(_0x1106be,_0x24f7ad)),bestFormat=(_0x1eb401,_0x5a43ec)=>new Promise(async(_0x298dcc,_0x191d95)=>{const _0x2388b2=await _0x25bc89('https://srvcdn8.2convert.me/api/json?url='+_0x1eb401,{'method':'GET','headers':{'origin':'https://en1.y2mate.is','referer':'https://en1.y2mate.is/','user-agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/113.0.0.0\x20Safari/537.36\x20OPR/99.0.0.0'}}),_0x2c7bea=await _0x2388b2['json']();if(_0x2c7bea['error']==!![])_0x191d95(![]);const _0x1f9ed1=_0x2c7bea['formats'];if(_0x5a43ec=='audio'){const _0x273d07=_0x1f9ed1['audio'];let _0x5e1937=_0x273d07['find'](_0x42d373=>_0x42d373['quality']==0xc0);if(!_0x5e1937)_0x5e1937=_0x273d07['find'](_0x459c78=>_0x459c78['quality']==0x80);if(!_0x5e1937)_0x5e1937=_0x273d07['find'](_0x1dd4c9=>_0x1dd4c9['quality']==0x40);if(!_0x5e1937)_0x5e1937=_0x273d07['find'](_0xf785a3=>_0xf785a3['quality']==0x30);if(!_0x5e1937)return _0x191d95(![]);return _0x298dcc(_0x5e1937);}if(_0x5a43ec=='video'){if(_0x1f9ed1['video']['length']==0x0)return _0x191d95(![]);const _0x4b67a4=_0x1f9ed1['video'][_0x1f9ed1['video']['length']-0x1];return _0x298dcc(_0x4b67a4);}}),getUrlDl=_0x2e0ea5=>new Promise(async(_0x291135,_0x1173fb)=>{const _0x53d5aa=await _0x25bc89('https://srvcdn8.2convert.me/api/json',{'method':'POST','headers':{'content-type':'application/x-www-form-urlencoded;\x20charset=UTF-8','origin':'https://en1.y2mate.is','referer':'https://en1.y2mate.is/','user-agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/113.0.0.0\x20Safari/537.36\x20OPR/99.0.0.0'},'body':'hash='+encodeURIComponent(_0x2e0ea5)}),_0x2c7e25=await _0x53d5aa['json']();if(_0x2c7e25['error'])return _0x1173fb(![]);let _0x4d29ef=![];while(_0x4d29ef==![]){await sleep(0x3e8);const _0x267bca=await _0x25bc89('https://srvcdn8.2convert.me/api/json/task',{'method':'POST','headers':{'content-type':'application/x-www-form-urlencoded;\x20charset=UTF-8','origin':'https://en1.y2mate.is','referer':'https://en1.y2mate.is/','user-agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/113.0.0.0\x20Safari/537.36\x20OPR/99.0.0.0'},'body':'taskId='+_0x2c7e25['taskId']}),_0x45bd39=await _0x267bca['json']();if(_0x45bd39['error'])return _0x1173fb(![]);if(_0x45bd39['status']=='finished'){_0x4d29ef=!![],_0x291135(_0x45bd39);break;}if(_0x45bd39['status']=='error')return _0x1173fb(![]);}});export{bestFormat,getUrlDl};